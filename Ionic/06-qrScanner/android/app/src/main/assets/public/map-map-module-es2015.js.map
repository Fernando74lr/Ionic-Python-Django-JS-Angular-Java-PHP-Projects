{"version":3,"sources":["./src/app/pages/map/map.module.ts","./src/app/pages/map/map.page.html","./src/app/pages/map/map.page.ts","./src/app/pages/map/map-routing.module.ts","./src/app/pages/map/map.page.scss"],"names":[],"mappings":"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","file":"map-map-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MapPageRoutingModule } from './map-routing.module';\n\nimport { MapPage } from './map.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MapPageRoutingModule\n  ],\n  declarations: [MapPage]\n})\nexport class MapPageModule {}\n","export default \"<ion-content>\\n\\n  <div id='map'></div>\\n\\n  <ion-back-button defaultHref=\\\"/tabs/tab2\\\"\\n                   text=\\\" \\\"\\n                   class=\\\"back-button\\\"\\n                   icon=\\\"close-circle\\\"></ion-back-button>\\n\\n</ion-content>\";","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\ndeclare var mapboxgl: any;\n\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.page.html',\n  styleUrls: ['./map.page.scss'],\n})\nexport class MapPage implements OnInit, AfterViewInit {\n\n  lat: number;\n  lng: number;\n\n  constructor(private route: ActivatedRoute) { }\n  \n  ngOnInit() {\n    let geo: any = this.route.snapshot.paramMap.get('geo');\n\n    geo = geo.substring(4);\n    geo = geo.split(',');\n\n    this.lat = Number(geo[0]);\n    this.lng = Number(geo[1]);\n    \n    console.log(this.lat, this.lng)\n  }\n\n  ngAfterViewInit() {\n    mapboxgl.accessToken = 'pk.eyJ1IjoiZmVybmFuZG83NGxyIiwiYSI6ImNrZ3NlZGRucDAwZnMycW4yeDgwNDZ6ZnoifQ.WBETnEn0ibpMNFksLJfHbA';\n    const map = new mapboxgl.Map({\n      style: 'mapbox://styles/mapbox/light-v10',\n      center: [this.lng, this.lat],\n      zoom: 15.5,\n      pitch: 45,\n      bearing: -17.6,\n      container: 'map',\n      antialias: true\n    });\n\n    map.on('load', () => {\n\n      // Resize Map to the container dimentions\n      map.resize();\n\n      // Default MarkerEdificio Empire State\n      var marker = new mapboxgl.Marker()\n          .setLngLat([this.lng, this.lat])\n          .addTo(map);\n\n      const layers = map.getStyle().layers;\n       \n      let labelLayerId;\n      for (let i = 0; i < layers.length; i++) {\n        if (layers[i].type === 'symbol' && layers[i].layout['text-field']) {\n        labelLayerId = layers[i].id;\n        break;\n        }\n      }\n       \n      map.addLayer({\n        'id': '3d-buildings',\n        'source': 'composite',\n        'source-layer': 'building',\n        'filter': ['==', 'extrude', 'true'],\n        'type': 'fill-extrusion',\n        'minzoom': 15,\n        'paint': {\n          'fill-extrusion-color': '#aaa', \n          'fill-extrusion-height': [\n            'interpolate',\n            ['linear'],\n            ['zoom'],\n            15,\n            0,\n            15.05,\n            ['get', 'height']\n          ],\n          'fill-extrusion-base': [\n            'interpolate',\n            ['linear'],\n            ['zoom'],\n            15,\n            0,\n            15.05,\n            ['get', 'min_height']\n          ],\n          'fill-extrusion-opacity': 0.6\n        }\n      },\n      labelLayerId\n      );\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MapPage } from './map.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MapPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MapPageRoutingModule {}\n","export default \"#map {\\n  width: 100% !important;\\n  height: 100% !important;\\n  background-color: #f6f6f4;\\n}\\n\\n.back-button {\\n  position: fixed;\\n  top: 20px;\\n  right: 3px;\\n  font: 23px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbWFwL21hcC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDSSxzQkFBQTtFQUNBLHVCQUFBO0VBQ0EseUJBQUE7QUFBSjs7QUFHQTtFQUNJLGVBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUNBLHFCQUFBO0FBQUoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9tYXAvbWFwLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4jbWFwIHtcclxuICAgIHdpZHRoOiAxMDAlIWltcG9ydGFudDtcclxuICAgIGhlaWdodDogMTAwJSFpbXBvcnRhbnQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNmY0O1xyXG59XHJcblxyXG4uYmFjay1idXR0b24ge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiAyMHB4O1xyXG4gICAgcmlnaHQ6IDNweDtcclxuICAgIGZvbnQ6IDIzcHghaW1wb3J0YW50O1xyXG59Il19 */\";"],"sourceRoot":"webpack:///"}